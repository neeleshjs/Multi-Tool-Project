<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>IBM MINI PROJECT</title>
  <!-- Lucide Icons CDN -->
  <script src="https://unpkg.com/lucide@latest"></script>
  <style>
    * {
      box-sizing: border-box;
    }

    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      margin: 0;
      padding: 0;
      background: url('https://s3.envato.com/files/252675895/Preview.jpg');
      background-size: cover;
      display: flex;
      flex-direction: column;
      align-items: center;
      min-height: 100vh;
      overflow: hidden;
    }

    h1 {
      margin: 20px;
      font-size: 2.5rem;
      color: #b8bbbc;
    }

    nav {
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      gap: 15px;
    }

    nav button {
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      gap: 5px;
      background: #4CAF50;
      color: white;
      border: none;
      padding: 15px;
      font-size: 14px;
      border-radius: 10px;
      width: 80px;  /* Adjust width */
      height: 80px; /* Adjust height */
      cursor: pointer;
      transition: transform 0.2s, background 0.3s, box-shadow 0.3s;
      position: relative;
      overflow: hidden;
    }

    nav button:hover {
      background: #45a049;
      transform: scale(1.05);
      box-shadow: 0 0 10px rgba(0, 255, 0, 0.5);
    }

    nav button i {
      width: 24px;
      height: 24px;
    }

    nav button span {
      font-size: 10px;
    }

    nav button::after {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: linear-gradient(45deg, rgba(255,255,255,0.2), rgba(0,0,0,0.2));
      animation: glitterEffect 2s infinite;
      z-index: 1;
      opacity: 0.5;
    }

    nav button * {
      position: relative;
      z-index: 2;
    }

    @keyframes glitterEffect {
      0% { opacity: 0.1; transform: translateX(-100%); }
      50% { opacity: 0.7; transform: translateX(100%); }
      100% { opacity: 0.1; transform: translateX(-100%); }
    }

    @media screen and (max-width: 768px) {
      nav button {
        width: 60px;  /* Smaller width for smaller screens */
        height: 60px; /* Smaller height */
        font-size: 12px; /* Adjust text size */
      }
    }

    @media screen and (max-width: 480px) {
      nav button {
        width: 50px;  /* Even smaller width for mobile devices */
        height: 50px; /* Even smaller height */
        font-size: 10px; /* Adjust text size */
      }
    }
    nav button {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  gap: 5px;
  background: #4CAF50;
  color: white;
  border: none;
  padding: 15px;
  font-size: 14px;
  border-radius: 10px; /* Optional: slight rounding */
  width: 70px;
  height: 70px;
  cursor: pointer;
  transition: transform 0.2s, background 0.3s, box-shadow 0.3s;
  position: relative;
  overflow: hidden;
}

    nav button:hover {
      background: #45a049;
      transform: scale(1.05);
      box-shadow: 0 0 10px rgba(0, 255, 0, 0.5);
    }
    nav button i {
      width: 24px;
      height: 24px;
    }
    nav button span {
      font-size: 10px;
    }
    nav button::after {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: linear-gradient(45deg, rgba(255,255,255,0.2), rgba(0,0,0,0.2));
      animation: glitterEffect 2s infinite;
      z-index: 1;
      opacity: 0.5;
    }
    nav button * {
      position: relative;
      z-index: 2;
    }

    @keyframes glitterEffect {
      0% { opacity: 0.1; transform: translateX(-100%); }
      50% { opacity: 0.7; transform: translateX(100%); }
      100% { opacity: 0.1; transform: translateX(-100%); }
    }

    .tool {
      display: none;
      margin-top: 30px;
      padding: 20px;
      width: 90%;
      max-width: 100%;
      height: calc(100vh - 60px);
      background: #fff;
      box-shadow: 0 4px 8px rgba(0,0,0,0.1);
      border-radius: 10px;
      animation: fadeIn 0.5s ease-in-out;
      overflow-y: auto;
      position: absolute;
      top: 0;
      left: 50%;
      transform: translateX(-50%);
      z-index: 10;
    }
    .age-calculator {
  display: flex;
  flex-direction: column;
  gap: 1rem;
  align-items: center;
  padding: 1rem;
}

.age-calculator input[type="date"] {
  padding: 0.5rem;
  border-radius: 8px;
  border: 1px solid #ccc;
  font-size: 1rem;
}

.age-calculator button {
  background-color: #4caf50;
  color: white;
  padding: 0.5rem 1rem;
  border: none;
  border-radius: 8px;
  cursor: pointer;
  font-size: 1rem;
}

.age-calculator button:hover {
  background-color: #43cdf0;
}
#calculator {
  width: 300px;
  padding: 20px;
  background-color: #fff;
  box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
  border-radius: 8px;
}

#calculator h2 {
  text-align: center;
}

#calculatorScreen {
  text-align: center;
  margin-bottom: 10px;
  padding: 0%;;
}

#calcDisplay {
  width: 100%;
  padding: 10px;
  font-size: 24px;
  text-align: right;
  border: 1px solid #ccc;
  border-radius: 5px;
}

#calculatorButtons {
  display: grid;
  grid-template-columns: repeat(4, 1fr);
  gap: 10px;
}

button {
  padding: 15px;
  font-size: 18px;
  cursor: pointer;
  background-color: #8dc7d8;
  border: 1px solid #eaa3a3;
  border-radius: 5px;
  transition: background-color 0.3s;
}

button:hover {
  background-color: #3cb871;
}

.back-btn {
  margin-top: 15px;
  padding: 10px;
  font-size: 16px;
  background-color: #f1f1f1;
  border: none;
  cursor: pointer;
  display: block;
  margin: 0 auto;
}

.back-btn:hover {
  background-color: #e0e0e0;
}


#age-result {
  margin-top: 1rem;
  font-size: 1.2rem;
  font-weight: bold;
}

    .tool.active {
      display: block;
    }

    @keyframes zoomOut {
  0% {
    transform: scale(1.2);
    opacity: 0;
  }
  100% {
    transform: scale(1);
    opacity: 1;
  }
}

    input, select, button {
      margin: 10px 0;
      padding: 10px;
      width: 80%;
      max-width: 400px;
      font-size: 16px;
      border: 1px solid #ccc;
      border-radius: 8px;
      transition: all 0.3s ease;
    }

    input:focus, select:focus {
      border-color: #4CAF50;
      box-shadow: 0 0 5px rgba(76, 175, 80, 0.5);
    }

    #clock { background: linear-gradient(135deg, #a8edea, #fed6e3); border-left: 5px solid #00c6ff; }
    #alarm { background: linear-gradient(135deg, #fdfbfb, #ebedee); border-left: 5px solid #5d89d6; }
    #stopwatch { background: linear-gradient(135deg, #fceabb, #53f2f5); border-left: 5px solid #439dd4; }
    #calendar { background: linear-gradient(135deg, #c2e9fb, #a1c4fd); border-left: 5px solid #2196F3; }
    #bmi { background: linear-gradient(135deg, #d4fc79, #96e6a1); border-left: 5px solid #638fe8; }
    #qr { background: linear-gradient(135deg, #fbc2eb, #a6c1ee); border-left: 5px solid #51a2dc; }
    #qrCode {
  display: flex;
  justify-content: center;
  align-items: center;
  margin-top: 20px;
}

    #time { font-size: 3rem; text-align: center; color: #333; margin-top: 20px; }

    #stopwatchDisplay { font-size: 2rem; text-align: center; }

    #calendarGrid {
      display: grid;
      grid-template-columns: repeat(7, 1fr);
      gap: 5px;
      text-align: center;
      margin-top: 15px;
    }

    .day {
      padding: 10px;
      border: 1px solid #ccc;
      border-radius: 6px;
      background: #f0f0f0;
      transition: 0.3s;
    }

    .day:hover {
      background: #cdeccd;
    }

    .back-btn {
  width: 60px;
  height: 60px;
  border-radius: 50%;
  background-color: #100f0f;
  color: rgb(237, 240, 243);
  border: none;
  font-size: 12px;
  padding: 0;
  text-align: center;
}


    .back-btn:hover {
      background: #0a0a0a;
      transform: scale(1.05);
    }
  </style>
</head>
<body>
  <h1>MULTI TOOL PROJECT</h1>
  <nav>
    <button onclick="showTool('clock')">
      <i data-lucide="clock"></i><span>Clock</span>
    </button>
    <button onclick="showTool('alarm')">
      <i data-lucide="alarm-clock"></i><span>Alarm</span>
    </button>
    <button onclick="showTool('stopwatch')">
      <i data-lucide="timer"></i><span>Stopwatch</span>
    </button>
    <button onclick="showTool('calendar')">
      <i data-lucide="calendar-days"></i><span>Calendar</span>
    </button>
    <button onclick="showTool('bmi')">
      <i data-lucide="activity"></i><span>BMI</span>
    </button>
    <button onclick="showTool('qr')">
      <i data-lucide="qr-code"></i><span>QR</span>
    </button>
    <button onclick="showTool('age')">
      <i data-lucide="cake"></i><span>Age</span>
    </button>
    <button onclick="showTool('weather')">
        <i data-lucide="cloud-sun"></i><span>Weather</span>
      </button>
      <button onclick="showTool('currency')">
        <i data-lucide="dollar-sign"></i><span>Currency</span>
      </button>
      <button onclick="showTool('recorder')">
  <i data-lucide="mic"></i><span>Recorder</span>
</button>
<button onclick="showTool('screenRecorder')">
  <i data-lucide="monitor"></i><span>Screen Recorder</span>
</button>
<button onclick="showTool('calculator')">
  <i data-lucide="calculator"></i><span>calculator</span>

</button>


     
      
      
  </nav>

  <!-- Tools Sections -->
  <section id="clock" class="tool">
    <h2>Digital Clock</h2>
    <div id="time"></div>
    <canvas id="analogClock" width="200" height="200" style="display:block; margin: 20px auto;"></canvas>
 
    <button class="back-btn" onclick="hideTools()">← Back</button>
  </section>

  <section id="alarm" class="tool">
    <h2>Alarm</h2>
    <input type="time" id="alarmTime">
    <button onclick="setAlarm()">Set Alarm</button>
    <div id="alarmStatus"></div>
    <button class="back-btn" onclick="hideTools()">← Back</button>
  </section>

  <section id="stopwatch" class="tool">
    <h2>Stopwatch</h2>
    <div id="stopwatchDisplay">00:00:00</div>
    <button onclick="startStopwatch()">Start</button>
    <button onclick="stopStopwatch()">Stop</button>
    <button onclick="resetStopwatch()">Reset</button>
    <button class="back-btn" onclick="hideTools()">← Back</button>
  </section>

  <section id="calendar" class="tool">
    <h2>Calendar</h2>
    <select id="monthSelect"></select>
    <select id="yearSelect"></select>
    <div id="calendarGrid"></div>
    <button class="back-btn" onclick="hideTools()">← Back</button>
  </section>

  <section id="bmi" class="tool">
    <h2>BMI Calculator</h2>
    <input type="number" id="weight" placeholder="Weight (kg)">
    <input type="number" id="height" placeholder="Height (cm)">
    <button onclick="calculateBMI()">Calculate BMI</button>
    <div id="bmiResult"></div>
    <button class="back-btn" onclick="hideTools()">← Back</button>
  </section>

  <section id="qr" class="tool">
    <h2>QR Code Generator</h2>
    <input type="text" id="qrText" placeholder="Enter text">
    <button onclick="generateQR()">Generate QR</button>
    <div id="qrCode"></div>
    <button class="back-btn" onclick="hideTools()">← Back</button>
  </section>
  <!-- Age Calculator Section -->
<section class="tool" id="age">
  <div class="tool-header">
    <i data-lucide="cake" class="icon"></i>
    <h2>Age Calculator</h2>
  </div>
  <div class="tool-content age-calculator">
    <label for="dob">Select your Date of Birth:</label>
    <input type="date" id="dob" />
    <button onclick="calculateAge()">Calculate Age</button>
    <div id="age-result"></div>
  </div>
   <button class="back-btn" onclick="hideTools()">← Back</button>
</section>
<section id="weather" class="tool">
    <h2>Weather Info</h2>
    <input type="text" id="cityInput" placeholder="Enter city name" />
    <button onclick="getWeather()">Get Weather</button>
    <div id="weatherResult"></div>
    <button class="back-btn" onclick="hideTools()">← Back</button>
  </section>
  <section id="currency" class="tool">
    <h2>Currency Converter</h2>
    <input type="number" id="amount" placeholder="Enter amount" />
  
    <select id="fromCurrency">
      <option value="USD">USD</option>
      <option value="INR">INR</option>
      <option value="EUR">EUR</option>
      <option value="GBP">GBP</option>
      <option value="JPY">JPY</option>
    </select>
  
    <select id="toCurrency">
      <option value="INR">INR</option>
      <option value="USD">USD</option>
      <option value="EUR">EUR</option>
      <option value="GBP">GBP</option>
      <option value="JPY">JPY</option>
    </select>
  
    <button onclick="convertCurrency()">Convert</button>
    <div id="conversionResult"></div>
    <button class="back-btn" onclick="hideTools()">← Back</button>
  </section>
  <section id="recorder" class="tool">
  <h2>Audio/Video Recorder</h2>
  <video id="preview" autoplay muted playsinline style="width: 100%; max-width: 500px; border: 2px solid #4caf50; border-radius: 10px;"></video>
  <div>
    <button id="startRecordingBtn">Start</button>
    <button id="stopRecordingBtn" disabled>Stop</button>
    <button id="downloadBtn" disabled>Download</button>
  </div>
  <div id="recordStatus"></div>
  <button class="back-btn" onclick="hideTools()">← Back</button>
</section>
<section id="screenRecorder" class="tool">
  <h2>Screen Recorder</h2>
  <video id="screenPreview" autoplay muted playsinline style="width: 100%; max-width: 500px; border: 2px solid #2196f3; border-radius: 10px;"></video>
  <div>
    <button id="startScreenBtn">Start Screen Recording</button>
    <button id="stopScreenBtn" disabled>Stop</button>
    <button id="downloadScreenBtn" disabled>Download</button>
  </div>
  <div id="screenStatus"></div>
  <button class="back-btn" onclick="hideTools()">← Back</button>
</section>
<section id="calculator" class="tool">
  <h2>Calculator</h2>
  <div id="calculatorScreen">
    <input type="text" id="calcDisplay" disabled />
  </div>
  <div id="calculatorButtons">
    <button onclick="clearDisplay()">Clear</button>
    <button onclick="appendToDisplay('7')">7</button>
    <button onclick="appendToDisplay('8')">8</button>
    <button onclick="appendToDisplay('9')">9</button>
    <button onclick="appendToDisplay('/')">/</button>
    
    <button onclick="appendToDisplay('4')">4</button>
    <button onclick="appendToDisplay('5')">5</button>
    <button onclick="appendToDisplay('6')">6</button>
    <button onclick="appendToDisplay('*')">*</button>

    <button onclick="appendToDisplay('1')">1</button>
    <button onclick="appendToDisplay('2')">2</button>
    <button onclick="appendToDisplay('3')">3</button>
    <button onclick="appendToDisplay('-')">-</button>

    <button onclick="appendToDisplay('0')">0</button>
    <button onclick="appendToDisplay('.')">.</button>
    
    <button onclick="appendToDisplay('+')">+</button>

    <button onclick="percentage()">%</button>
    <button onclick="appendToDisplay('(')">(</button>
    <button onclick="appendToDisplay(')')">)</button>
    <button onclick="squareRoot()">√</button>
    <button onclick="calculateResult()">enter</button>
  </div>
  <button class="back-btn" onclick="hideTools()">← Back</button>
</section>



  
  <script src="https://cdn.jsdelivr.net/npm/qrcode/build/qrcode.min.js"></script>
  

 <script>
    lucide.createIcons();

    function showTool(id) {
      document.querySelectorAll('.tool').forEach(tool => tool.classList.remove('active'));
      document.getElementById(id).classList.add('active');
    }
    function hideTools() {
      document.querySelectorAll('.tool').forEach(tool => tool.classList.remove('active'));
    }

    setInterval(() => {
      const now = new Date();
      document.getElementById('time').textContent = now.toLocaleTimeString();
    }, 1000);
    const canvas = document.getElementById("analogClock");
const ctx = canvas.getContext("2d");
const radius = canvas.height / 2;
ctx.translate(radius, radius);

function drawAnalogClock() {
  ctx.clearRect(-radius, -radius, canvas.width, canvas.height);
  
  drawFace(ctx, radius);
  drawNumbers(ctx, radius);
  drawTime(ctx, radius);
}

function drawFace(ctx, radius) {
  ctx.beginPath();
  ctx.arc(0, 0, radius * 0.95, 0, 2 * Math.PI);
  ctx.fillStyle = 'white';
  ctx.fill();

  ctx.strokeStyle = '#333';
  ctx.lineWidth = radius * 0.05;
  ctx.stroke();

  ctx.beginPath();
  ctx.arc(0, 0, radius * 0.05, 0, 2 * Math.PI);
  ctx.fillStyle = '#333';
  ctx.fill();
}

function drawNumbers(ctx, radius) {
  ctx.font = radius * 0.15 + "px Arial";
  ctx.textBaseline = "middle";
  ctx.textAlign = "center";
  for (let num = 1; num <= 12; num++) {
    const angle = num * Math.PI / 6;
    const x = radius * 0.8 * Math.sin(angle);
    const y = -radius * 0.8 * Math.cos(angle);
    ctx.fillText(num.toString(), x, y);
  }
}

function drawTime(ctx, radius) {
  const now = new Date();
  let hour = now.getHours();
  let minute = now.getMinutes();
  let second = now.getSeconds();

  hour = hour % 12;
  hour = (hour * Math.PI / 6) + 
         (minute * Math.PI / (6 * 60)) + 
         (second * Math.PI / (360 * 60));
  drawHand(ctx, hour, radius * 0.5, radius * 0.07);

  minute = (minute * Math.PI / 30) + 
           (second * Math.PI / (30 * 60));
  drawHand(ctx, minute, radius * 0.8, radius * 0.07);

  second = (second * Math.PI / 30);
  drawHand(ctx, second, radius * 0.9, radius * 0.02, 'red');
}

function drawHand(ctx, pos, length, width, color = '#333') {
  ctx.beginPath();
  ctx.lineWidth = width;
  ctx.lineCap = "round";
  ctx.strokeStyle = color;
  ctx.moveTo(0, 0);
  ctx.rotate(pos);
  ctx.lineTo(0, -length);
  ctx.stroke();
  ctx.rotate(-pos);
}

setInterval(drawAnalogClock, 1000);


    let alarmTime = null;
    function setAlarm() {
      alarmTime = document.getElementById('alarmTime').value;
      document.getElementById('alarmStatus').textContent = `Alarm set for ${alarmTime}`;
    }
    setInterval(() => {
      const now = new Date();
      const current = now.getHours().toString().padStart(2, '0') + ':' + now.getMinutes().toString().padStart(2, '0');
      if (alarmTime === current) {
        alert('Alarm!');
        alarmTime = null;
        document.getElementById('alarmStatus').textContent = 'Alarm triggered!';
      }
    }, 1000);

    let stopwatchInterval;
    let elapsedSeconds = 0;
    function updateStopwatch() {
      const hours = Math.floor(elapsedSeconds / 3600);
      const minutes = Math.floor((elapsedSeconds % 3600) / 60);
      const seconds = elapsedSeconds % 60;
      document.getElementById('stopwatchDisplay').textContent =
        `${String(hours).padStart(2, '0')}:${String(minutes).padStart(2, '0')}:${String(seconds).padStart(2, '0')}`;
    }
    function startStopwatch() {
      if (!stopwatchInterval) {
        stopwatchInterval = setInterval(() => {
          elapsedSeconds++;
          updateStopwatch();
        }, 1000);
      }
    }
    function stopStopwatch() {
      clearInterval(stopwatchInterval);
      stopwatchInterval = null;
    }
    function resetStopwatch() {
      stopStopwatch();
      elapsedSeconds = 0;
      updateStopwatch();
    }

    function calculateBMI() {
  const weight = parseFloat(document.getElementById('weight').value);
  const height = parseFloat(document.getElementById('height').value) / 100;
  const result = document.getElementById('bmiResult');
  
  if (weight > 0 && height > 0) {
    const bmi = weight / (height * height);
    let bmiCategory = '';
    
    if (bmi < 18.5) {
      bmiCategory = 'Underweight';
    } else if (bmi >= 18.5 && bmi < 24.9) {
      bmiCategory = 'Normal weight';
    } else if (bmi >= 25 && bmi < 29.9) {
      bmiCategory = 'Overweight';
    } else {
      bmiCategory = 'Obese';
    }
    
    result.textContent = `Your BMI: ${bmi.toFixed(2)} - ${bmiCategory}`;
  } else {
    result.textContent = 'Please enter valid weight and height values.';
  }
}


    function generateQR() {
      const text = document.getElementById('qrText').value;
      const qrContainer = document.getElementById('qrCode');
      qrContainer.innerHTML = '';
      QRCode.toCanvas(document.createElement('canvas'), text, function (error, canvas) {
        if (!error) qrContainer.appendChild(canvas);
      });
    }

    const monthNames = ["January", "February", "March", "April", "May", "June", "July", "August",
      "September", "October", "November", "December"];
    const monthSelect = document.getElementById("monthSelect");
    const yearSelect = document.getElementById("yearSelect");
    const calendarGrid = document.getElementById("calendarGrid");

    function populateSelectors() {
      for (let i = 0; i < 12; i++) {
        let option = document.createElement("option");
        option.value = i;
        option.text = monthNames[i];
        monthSelect.appendChild(option);
      }
      const year = new Date().getFullYear();
      for (let i = year - 10; i <= year + 10; i++) {
        let option = document.createElement("option");
        option.value = i;
        option.text = i;
        yearSelect.appendChild(option);
      }
    }

    function renderCalendar() {
      const month = parseInt(monthSelect.value);
      const year = parseInt(yearSelect.value);
      calendarGrid.innerHTML = "";

      const daysInMonth = new Date(year, month + 1, 0).getDate();
      const firstDay = new Date(year, month, 1).getDay();

      const weekdays = ["Sun", "Mon", "Tue", "Wed", "Thu", "Fri", "Sat"];
      weekdays.forEach(day => {
        const div = document.createElement("div");
        div.classList.add("day");
        div.style.fontWeight = "bold";
        div.textContent = day;
        calendarGrid.appendChild(div);
      });

      for (let i = 0; i < firstDay; i++) {
        calendarGrid.appendChild(document.createElement("div"));
      }

      for (let i = 1; i <= daysInMonth; i++) {
        const div = document.createElement("div");
        div.classList.add("day");
        div.textContent = i;
        calendarGrid.appendChild(div);
      }
    }

    populateSelectors();
    const today = new Date();
    monthSelect.value = today.getMonth();
    yearSelect.value = today.getFullYear();
    renderCalendar();
    monthSelect.addEventListener("change", renderCalendar);
    yearSelect.addEventListener("change", renderCalendar);
    function calculateAge() {
  const dobInput = document.getElementById("dob").value;
  if (!dobInput) {
    document.getElementById("age-result").textContent = "Please select your date of birth.";
    return;
  }

  const dob = new Date(dobInput);
  const today = new Date();

  let ageYears = today.getFullYear() - dob.getFullYear();
  let ageMonths = today.getMonth() - dob.getMonth();
  let ageDays = today.getDate() - dob.getDate();

  if (ageDays < 0) {
    ageMonths--;
    const previousMonth = new Date(today.getFullYear(), today.getMonth(), 0);
    ageDays += previousMonth.getDate();
  }

  if (ageMonths < 0) {
    ageYears--;
    ageMonths += 12;
  }

  document.getElementById("age-result").textContent =
    `You are ${ageYears} years, ${ageMonths} months, and ${ageDays} days old.`;
}
async function getWeather() {
    const city = document.getElementById('cityInput').value;
    const apiKey = '448a8905d53637280cbadb1de58963fc'; // Replace with your OpenWeatherMap API key
    const url = `https://api.openweathermap.org/data/2.5/weather?q=${city}&units=metric&appid=${apiKey}`;

    try {
      const response = await fetch(url);
      const data = await response.json();

      if (data.cod !== 200) {
        document.getElementById('weatherResult').innerHTML = `<p style="color:red;">${data.message}</p>`;
        return;
      }

      document.getElementById('weatherResult').innerHTML = `
        <h3>${data.name}, ${data.sys.country}</h3>
        <p><strong>Temperature:</strong> ${data.main.temp} °C</p>
        <p><strong>Weather:</strong> ${data.weather[0].description}</p>
        <p><strong>Humidity:</strong> ${data.main.humidity}%</p>
        <p><strong>Wind:</strong> ${data.wind.speed} m/s</p>
      `;
    } catch (error) {
      document.getElementById('weatherResult').innerHTML = `<p style="color:red;">Failed to fetch weather data</p>`;
    }
  }
  async function convertCurrency() {
  const amount = parseFloat(document.getElementById("amount").value);
  const from = document.getElementById("fromCurrency").value;
  const to = document.getElementById("toCurrency").value;
  const resultDiv = document.getElementById("conversionResult");

  if (isNaN(amount)) {
    resultDiv.innerHTML = "<span style='color: red;'>Please enter a valid amount.</span>";
    return;
  }

  try {
    const response = await fetch(`https://api.exchangerate-api.com/v4/latest/${from}`);
    const data = await response.json();
    const rate = data.rates[to];
    const converted = (amount * rate).toFixed(2);
    resultDiv.innerHTML = `${amount} ${from} = <strong>${converted} ${to}</strong>`;
  } catch (error) {
    resultDiv.innerHTML = "<span style='color: red;'>Error fetching exchange rates.</span>";
  }
}
let mediaRecorder;
  let recordedChunks = [];
  let stream;

  async function initMedia() {
    try {
      stream = await navigator.mediaDevices.getUserMedia({ video: true, audio: true });
      document.getElementById('preview').srcObject = stream;
    } catch (err) {
      alert('Error accessing camera/microphone: ' + err.message);
    }
  }

  function startRecording() {
    recordedChunks = [];
    mediaRecorder = new MediaRecorder(stream);
    mediaRecorder.ondataavailable = (e) => {
      if (e.data.size > 0) recordedChunks.push(e.data);
    };
    mediaRecorder.onstop = () => {
      const blob = new Blob(recordedChunks, { type: 'video/webm' });
      const url = URL.createObjectURL(blob);
      const a = document.createElement('a');
      a.href = url;
      a.download = 'recording.webm';
      document.getElementById('downloadBtn').onclick = () => a.click();
      document.getElementById('downloadBtn').disabled = false;
    };
    mediaRecorder.start();
    document.getElementById('recordStatus').innerText = 'Recording...';
    document.getElementById('startRecordingBtn').disabled = true;
    document.getElementById('stopRecordingBtn').disabled = false;
  }

  function stopRecording() {
    mediaRecorder.stop();
    document.getElementById('recordStatus').innerText = 'Recording stopped.';
    document.getElementById('startRecordingBtn').disabled = false;
    document.getElementById('stopRecordingBtn').disabled = true;
  }

  // Voice Command Integration
  const SpeechRecognition = window.SpeechRecognition || window.webkitSpeechRecognition;
  const recognition = new SpeechRecognition();
  recognition.continuous = true;
  recognition.lang = 'en-US';

  recognition.onresult = (event) => {
    const transcript = event.results[event.results.length - 1][0].transcript.trim().toLowerCase();
    if (transcript.includes('start recording')) {
      if (!mediaRecorder || mediaRecorder.state === 'inactive') startRecording();
    } else if (transcript.includes('stop recording')) {
      if (mediaRecorder && mediaRecorder.state === 'recording') stopRecording();
    }
  };

  document.getElementById('startRecordingBtn').addEventListener('click', () => startRecording());
  document.getElementById('stopRecordingBtn').addEventListener('click', () => stopRecording());

  // Auto-initialize when opening tool
  document.getElementById('recorder').addEventListener('click', () => {
    initMedia();
    recognition.start();
  });
  let screenStream;
  let screenRecorder;
  let screenChunks = [];

  async function startScreenRecording() {
    try {
      screenStream = await navigator.mediaDevices.getDisplayMedia({ video: true, audio: true });
      document.getElementById('screenPreview').srcObject = screenStream;

      screenChunks = [];
      screenRecorder = new MediaRecorder(screenStream);
      screenRecorder.ondataavailable = (e) => {
        if (e.data.size > 0) screenChunks.push(e.data);
      };
      screenRecorder.onstop = () => {
        const blob = new Blob(screenChunks, { type: 'video/webm' });
        const url = URL.createObjectURL(blob);
        const a = document.createElement('a');
        a.href = url;
        a.download = 'screen-recording.webm';
        document.getElementById('downloadScreenBtn').onclick = () => a.click();
        document.getElementById('downloadScreenBtn').disabled = false;
      };

      screenRecorder.start();
      document.getElementById('screenStatus').innerText = 'Recording screen...';
      document.getElementById('startScreenBtn').disabled = true;
      document.getElementById('stopScreenBtn').disabled = false;
    } catch (err) {
      alert('Error starting screen recording: ' + err.message);
    }
  }

  function stopScreenRecording() {
    screenRecorder.stop();
    screenStream.getTracks().forEach(track => track.stop());
    document.getElementById('screenStatus').innerText = 'Screen recording stopped.';
    document.getElementById('startScreenBtn').disabled = false;
    document.getElementById('stopScreenBtn').disabled = true;
  }

  document.getElementById('startScreenBtn').addEventListener('click', startScreenRecording);
  document.getElementById('stopScreenBtn').addEventListener('click', stopScreenRecording);
  let display = document.getElementById('calcDisplay');

function appendToDisplay(value) {
  display.value += value;
}

function clearDisplay() {
  display.value = '';
}

function calculateResult() {
  try {
    display.value = eval(display.value);
  } catch (error) {
    display.value = 'Error';
  }
}

function percentage() {
  let value = display.value;
  if (value) {
    display.value = eval(value) / 100;
  }
}

function squareRoot() {
  let value = display.value;
  if (value) {
    display.value = Math.sqrt(eval(value));
  }
}
 </script>
</body>
</html>
